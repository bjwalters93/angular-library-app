<div class="pt-0 pl-4 pr-4">
  <p-table
    [value]="books"
    showGridlines
    size="small"
    selectionMode="single"
    [(selection)]="selectedBook"
    dataKey="id"
    (onRowSelect)="onRowSelect($event)"
    (onRowUnselect)="onRowUnselect($event)"
    [tableStyle]="{ 'min-width': '60rem' }"
  >
    <ng-template #caption>
      <div class="flex items-center justify-between">
        <span class="text-xl font-bold"
          >All Books: {{ books ? books.length : 0 }}</span
        >
        <p-iconfield iconPosition="left" class="ml-auto">
          <p-inputicon>
            <i class="pi pi-search"></i>
          </p-inputicon>
          <input pInputText type="text" placeholder="Search keyword" />
        </p-iconfield>
      </div>
    </ng-template>
    <ng-template #header>
      <tr>
        <th>Id</th>
        <th>Title</th>
        <th>Author</th>
        <th>Available Copies</th>
        <th style="width: 5rem"></th>
      </tr>
    </ng-template>
    <ng-template #body let-book>
      <tr [pSelectableRow]="book">
        <td>{{ book.id }}</td>
        <td>{{ book.title }}</td>
        <td>{{ book.author }}</td>
        <td>
          {{ book.availableCopies }}
        </td>
        <td>
          <p-button
            icon="pi pi-eye"
            (click)="selectedBookRow(book)"
            severity="secondary"
            rounded
          />
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
